<div class="shell">
  <div class="container">
    <header class="shell-header">
      <div class="brand">
        <i class="pi pi-shield"></i>
        <div>
          <span class="brand-title">Bernard Admin</span>
          <p class="brand-subtitle">Monitor uptime, tokens, and requests</p>
        </div>
      </div>
      <div class="header-actions">
        <button
          pButton
          type="button"
          text
          [label]="darkModeEnabled() ? 'Light mode' : 'Dark mode'"
          [icon]="darkModeEnabled() ? 'pi pi-sun' : 'pi pi-moon'"
          (click)="toggleDarkMode()"
          [attr.aria-pressed]="darkModeEnabled()"
          [attr.aria-label]="darkModeEnabled() ? 'Switch to light mode' : 'Switch to dark mode'">
        </button>
        @if (user()) {
          <p-menu #profileMenu [model]="profileMenuItems()" [popup]="true"></p-menu>
          <button
            pButton
            type="button"
            class="profile-button"
            (click)="profileMenu.toggle($event)"
            aria-haspopup="menu"
            aria-label="Open profile menu">
            <p-avatar [label]="profileInitial()" shape="circle"></p-avatar>
          </button>
        } @else {
          <button pButton type="button" label="Login" routerLink="/login" severity="secondary" text></button>
        }
      </div>
    </header>

    <p-menubar [model]="items()">
      <ng-template pTemplate="end">
        <button pButton type="button" icon="pi pi-comments" routerLink="/chat" aria-label="Open chat with Bernard" text></button>
      </ng-template>
    </p-menubar>

    <main class="content">
      <router-outlet />
    </main>
  </div>
</div>
